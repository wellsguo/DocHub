## 图像处理之预处理方法概述

图像分析中，图像质量的好坏直接影响识别算法的设计与效果的精度，因此在图像分析（特征提取、分割、匹配和识别等）前，需要进行预处理。图像预处理的主要目的是消除图像中无关的信息，恢复有用的真实信息，增强有关信息的可检测性、最大限度地简化数据，从而改进特征提取、图像分割、匹配和识别的可靠性。一般的预处理流程为：
* 灰度化
* 几何变换
* 图像增强
 

### 1、 灰度化

对彩色图像进行处理时，我们往往需要对三个通道依次进行处理，时间开销将会很大。因此，为了达到提高整个应用系统的处理速度的目的，需要减少所需处理的数据量。在图像处理中，常用的灰度化方法：
*  分量法
*  最大值法
*  平均值法
*  加权平均法

### 2、 几何变换

图像几何变换又称为图像空间变换，通过[平移]()、[转置]()、[镜像]()、[旋转]()、[缩放]()等几何变换对采集的图像进行处理，用于改正图像采集系统的系统误差和仪器位置（成像角度、透视关系乃至镜头自身原因）的随机误差。此外，还需要使用灰度插值算法，因为按照这种变换关系进行计算，输出图像的像素可能被映射到输入图像的非整数坐标上。通常采用的方法有[最近邻插值]()、[双线性插值]()和[双三次插值]()。

### 3、 图像增强

增强图像中的有用信息，它可以是一个失真的过程，其目的是要改善图像的视觉效果，针对给定图像的应用场合，有目的地强调图像的整体或局部特性，将原来不清晰的图像变得清晰或强调某些感兴趣的特征，扩大图像中不同物体特征之间的差别，抑制不感兴趣的特征，使之改善图像质量、丰富信息量，加强图像判读和识别效果，满足某些特殊分析的需要。图像增强算法可分成两大类：[空间域法]()和[频率域法]()。

#### 3.1、 空间域法

空间域法是一种直接图像增强算法，分为**点运算算法**和**邻域去噪**算法。点运算算法即 [灰度级校正]()、[灰度变换（又叫对比度拉伸）]()和[直方图修正]()等。邻域增强算法分为图像平滑和锐化两种。平滑常用算法有[均值滤波]()、[中值滤波]()、[空域滤波]()。锐化常用算法有[梯度算子法]()、[二阶导数算子法]()、[高通滤波]()、[掩模匹配法]()等。

#### 3.2、 频率域法

频率域法是一种间接图像增强算法，常用的频域增强方法有低通滤波器和高通滤波器。低频滤波器有[理想低通滤波器]()、[巴特沃斯低通滤波器]()、[高斯低通滤波器]()、[指数滤波器]()等。高通滤波器有[理想高通滤波器]()、[巴特沃斯高通滤波器]()、[高斯高通滤波器]()、[指数滤波器]()。


## 文字识别图像预处理

### 1 彩色转灰度图像
将彩色图像转换为灰度图，其中有三种方法：最大值法、平均值法和各比例法:

  * (1) 最大值法：就是获取图像中的每一个像素值，并且分别获得像素的 RGB 个分量值 (GetRValue(COLORREF pixel),  GetGValue(COLORREF pixel), GetBValue(COLORREF pixel))， 然后取三个分量的中最大的一个作为像素的分量值;

  * (2) 平均值法：取三个分量的平均值作为像素的分量值；

  * (3) 各比例法：设当前像素的三分量分别为R，G，B，然后利用如下公式得到转换后的像素分量值：`0.30 * R + 0.59 * G + 0.11 * B`。

 
### 2 灰度图转二值图像
利用阈值转换算法。

 
### 3 锐化
利用梯度锐化：使得图像更加突出，以便分析。  
算法：当前点像素值与其下一个像素值之差的绝对值，加上当前点像素值与其下一行当前像素值之差的绝对值，如果结果大于阈值，则当前像素值置为此结果。

 
### 4 去除离散噪声
利用递归方法查找当前像素的八个方向是否存在黑色像素，我这里设置连续长度为15，如果用递归方法得到连续像素值大于15，则认为不是噪声，相反的则认为是噪声，则置为白色像素。

 
### 5 字符倾斜度调整
尽量保存每个字符的位置一致。

 

### 6 分割字符

找出每个字符的区域，用矩形记录，记录每个字符矩形数据。

 

### 7 字符归一化

根据图像预处理的准备阶段设置的归一化标准，把每个字符的区域进行归一化，使得所有字符区域矩形一样大，只是位置不一样罢了；

 

### 8 字符紧密排列

把所有字符紧密的排列，以备识别使用。

 

以上就是数字识别的整个图像预处理过程了。



 